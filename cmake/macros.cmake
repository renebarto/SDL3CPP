macro(convert_default_options)
    set(COMPILE_DEFINITIONS_C_DEBUG ${DEFINES_C} ${DEFINES_C_DEBUG})
    set(COMPILE_DEFINITIONS_C_RELEASE ${DEFINES_C} ${DEFINES_C_RELEASE})
    set(COMPILE_DEFINITIONS_C_MINSIZEREL ${DEFINES_C} ${DEFINES_C_MINSIZEREL})
    set(COMPILE_DEFINITIONS_C_RELWITHDEBINFO ${DEFINES_C} ${DEFINES_C_RELWITHDEBINFO})

    set(COMPILE_DEFINITIONS_ASM_DEBUG ${DEFINES_ASM} ${DEFINES_ASM_DEBUG})
    set(COMPILE_DEFINITIONS_ASM_RELEASE ${DEFINES_ASM} ${DEFINES_ASM_RELEASE})
    set(COMPILE_DEFINITIONS_ASM_MINSIZEREL ${DEFINES_ASM} ${DEFINES_ASM_MINSIZEREL})
    set(COMPILE_DEFINITIONS_ASM_RELWITHDEBINFO ${DEFINES_ASM} ${DEFINES_ASM_RELWITHDEBINFO})

    set(COMPILE_OPTIONS_C_DEBUG ${FLAGS_C} ${FLAGS_C_DEBUG})
    set(COMPILE_OPTIONS_C_RELEASE ${FLAGS_C} ${FLAGS_C_RELEASE})
    set(COMPILE_OPTIONS_C_MINSIZEREL ${FLAGS_C} ${FLAGS_C_MINSIZEREL})
    set(COMPILE_OPTIONS_C_RELWITHDEBINFO ${FLAGS_C} ${FLAGS_C_RELWITHDEBINFO})

    set(COMPILE_OPTIONS_CXX_DEBUG ${FLAGS_CXX} ${FLAGS_CXX_DEBUG})
    set(COMPILE_OPTIONS_CXX_RELEASE ${FLAGS_CXX} ${FLAGS_CXX_RELEASE})
    set(COMPILE_OPTIONS_CXX_MINSIZEREL ${FLAGS_CXX} ${FLAGS_CXX_MINSIZEREL})
    set(COMPILE_OPTIONS_CXX_RELWITHDEBINFO ${FLAGS_CXX} ${FLAGS_CXX_RELWITHDEBINFO})

    set(COMPILE_OPTIONS_ASM_DEBUG ${FLAGS_ASM} ${FLAGS_ASM_DEBUG})
    set(COMPILE_OPTIONS_ASM_RELEASE ${FLAGS_ASM} ${FLAGS_ASM_RELEASE})
    set(COMPILE_OPTIONS_ASM_MINSIZEREL ${FLAGS_ASM} ${FLAGS_ASM_MINSIZEREL})
    set(COMPILE_OPTIONS_ASM_RELWITHDEBINFO ${FLAGS_ASM} ${FLAGS_ASM_RELWITHDEBINFO})

    set(LINKER_OPTIONS_DEBUG ${LINK_FLAGS} ${LINK_FLAGS_DEBUG})
    set(LINKER_OPTIONS_RELEASE ${LINK_FLAGS} ${LINK_FLAGS_RELEASE})
    set(LINKER_OPTIONS_MINSIZEREL ${LINK_FLAGS} ${LINK_FLAGS_MINSIZEREL})
    set(LINKER_OPTIONS_RELWITHDEBINFO ${LINK_FLAGS} ${LINK_FLAGS_RELWITHDEBINFO})

    set(LINKER_LIBRARIES ${LINK_LIBRARIES})

    if(${CMAKE_BUILD_TYPE} STREQUAL "Debug")
        set(COMPILE_DEFINITIONS_C ${COMPILE_DEFINITIONS_C_DEBUG})
        set(COMPILE_DEFINITIONS_ASM ${COMPILE_DEFINITIONS_ASM_DEBUG})
        set(COMPILE_OPTIONS_C ${COMPILE_OPTIONS_C_DEBUG})
        set(COMPILE_OPTIONS_CXX ${COMPILE_OPTIONS_CXX_DEBUG})
        set(COMPILE_OPTIONS_ASM ${COMPILE_OPTIONS_ASM_DEBUG})
        set(LINKER_OPTIONS ${LINKER_OPTIONS_DEBUG})
    elseif(${CMAKE_BUILD_TYPE} STREQUAL "Release")
        set(COMPILE_DEFINITIONS_C ${COMPILE_DEFINITIONS_C_RELEASE})
        set(COMPILE_DEFINITIONS_ASM ${COMPILE_DEFINITIONS_ASM_RELEASE})
        set(COMPILE_OPTIONS_C ${COMPILE_OPTIONS_C_RELEASE})
        set(COMPILE_OPTIONS_CXX ${COMPILE_OPTIONS_CXX_RELEASE})
        set(COMPILE_OPTIONS_ASM ${COMPILE_OPTIONS_ASM_RELEASE})
        set(LINKER_OPTIONS ${LINKER_OPTIONS_RELEASE})
    elseif(${CMAKE_BUILD_TYPE} STREQUAL "MinSizeRel")
        set(COMPILE_DEFINITIONS_C ${COMPILE_DEFINITIONS_C_MINSIZEREL})
        set(COMPILE_DEFINITIONS_ASM ${COMPILE_DEFINITIONS_ASM_MINSIZEREL})
        set(COMPILE_OPTIONS_C ${COMPILE_OPTIONS_C_MINSIZEREL})
        set(COMPILE_OPTIONS_CXX ${COMPILE_OPTIONS_CXX_MINSIZEREL})
        set(COMPILE_OPTIONS_ASM ${COMPILE_OPTIONS_ASM_MINSIZEREL})
        set(LINKER_OPTIONS ${LINKER_OPTIONS_MINSIZEREL})
    elseif(${CMAKE_BUILD_TYPE} STREQUAL "RelWithDebInfo")
        set(COMPILE_DEFINITIONS_C ${COMPILE_DEFINITIONS_C_RELWITHDEBINFO})
        set(COMPILE_DEFINITIONS_ASM ${COMPILE_DEFINITIONS_ASM_RELWITHDEBINFO})
        set(COMPILE_OPTIONS_C ${COMPILE_OPTIONS_C_RELWITHDEBINFO})
        set(COMPILE_OPTIONS_CXX ${COMPILE_OPTIONS_CXX_RELWITHDEBINFO})
        set(COMPILE_OPTIONS_ASM ${COMPILE_OPTIONS_ASM_RELWITHDEBINFO})
        set(LINKER_OPTIONS ${LINKER_OPTIONS_RELWITHDEBINFO})
    else()
        message(FATAL_ERROR "Invalid build type: " ${CMAKE_BUILD_TYPE})
    endif()

    if(CMAKE_VERBOSE_MAKEFILE)
        display_list("COMPILE_DEFINITIONS_C_DEBUG           : " ${COMPILE_DEFINITIONS_C_DEBUG})
        display_list("COMPILE_DEFINITIONS_C_RELEASE         : " ${COMPILE_DEFINITIONS_C_RELEASE})
        display_list("COMPILE_DEFINITIONS_C_MINSIZEREL      : " ${COMPILE_DEFINITIONS_C_MINSIZEREL})
        display_list("COMPILE_DEFINITIONS_C_RELWITHDEBINFO  : " ${COMPILE_DEFINITIONS_C_RELWITHDEBINFO})

        display_list("COMPILE_DEFINITIONS_ASM_DEBUG         : " ${COMPILE_DEFINITIONS_DEBUG})
        display_list("COMPILE_DEFINITIONS_ASM_RELEASE       : " ${COMPILE_DEFINITIONS_RELEASE})
        display_list("COMPILE_DEFINITIONS_ASM_MINSIZEREL    : " ${COMPILE_DEFINITIONS_MINSIZEREL})
        display_list("COMPILE_DEFINITIONS_ASM_RELWITHDEBINFO: " ${COMPILE_DEFINITIONS_RELWITHDEBINFO})

        display_list("COMPILE_OPTIONS_CXX_DEBUG             : " ${COMPILE_OPTIONS_CXX_DEBUG})
        display_list("COMPILE_OPTIONS_CXX_RELEASE           : " ${COMPILE_OPTIONS_CXX_RELEASE})
        display_list("COMPILE_OPTIONS_CXX_MINSIZEREL        : " ${COMPILE_OPTIONS_CXX_MINSIZEREL})
        display_list("COMPILE_OPTIONS_CXX_RELWITHDEBINFO    : " ${COMPILE_OPTIONS_CXX_RELWITHDEBINFO})

        display_list("COMPILE_OPTIONS_C_DEBUG               : " ${COMPILE_OPTIONS_C_DEBUG})
        display_list("COMPILE_OPTIONS_C_RELEASE             : " ${COMPILE_OPTIONS_C_RELEASE})
        display_list("COMPILE_OPTIONS_C_MINSIZEREL          : " ${COMPILE_OPTIONS_C_MINSIZEREL})
        display_list("COMPILE_OPTIONS_C_RELWITHDEBINFO      : " ${COMPILE_OPTIONS_C_RELWITHDEBINFO})

        display_list("COMPILE_OPTIONS_ASM_DEBUG             : " ${COMPILE_OPTIONS_ASM_DEBUG})
        display_list("COMPILE_OPTIONS_ASM_RELEASE           : " ${COMPILE_OPTIONS_ASM_RELEASE})
        display_list("COMPILE_OPTIONS_ASM_MINSIZEREL        : " ${COMPILE_OPTIONS_ASM_MINSIZEREL})
        display_list("COMPILE_OPTIONS_ASM_RELWITHDEBINFO    : " ${COMPILE_OPTIONS_ASM_RELWITHDEBINFO})

        display_list("LINKER_OPTIONS_DEBUG                  : " ${LINKER_OPTIONS_DEBUG})
        display_list("LINKER_OPTIONS_RELEASE                : " ${LINKER_OPTIONS_RELEASE})
        display_list("LINKER_OPTIONS_MINSIZEREL             : " ${LINKER_OPTIONS_MINSIZEREL})
        display_list("LINKER_OPTIONS_RELWITHDEBINFO         : " ${LINKER_OPTIONS_RELWITHDEBINFO})

        display_list("Active COMPILE_DEFINITIONS_C          : " ${COMPILE_DEFINITIONS_C})
        display_list("Active COMPILE_DEFINITIONS_ASM        : " ${COMPILE_DEFINITIONS_ASM})
        display_list("Active COMPILE_OPTIONS_CXX            : " ${COMPILE_OPTIONS_CXX})
        display_list("Active COMPILE_OPTIONS_C              : " ${COMPILE_OPTIONS_C})
        display_list("Active COMPILE_OPTIONS_ASM            : " ${COMPILE_OPTIONS_ASM})
        display_list("Active LINKER_OPTIONS                 : " ${LINKER_OPTIONS})
        display_list("Active LINKER_LIBRARIES               : " ${LINKER_LIBRARIES})
        display_list("Active LINK_DIRECTORIES               : " ${LINK_DIRECTORIES})
    endif()
endmacro()

macro(set_config_dir)
    if(${CMAKE_BUILD_TYPE} STREQUAL "Debug")
        set(CONFIG_DIR Debug)
    elseif(${CMAKE_BUILD_TYPE} STREQUAL "Release" OR
           ${CMAKE_BUILD_TYPE} STREQUAL "MinSizeRel" OR 
           ${CMAKE_BUILD_TYPE} STREQUAL "RelWithDebInfo")
        set(CONFIG_DIR NonDebug)
    else()
        message(FATAL_ERROR "Invalid build type: " ${CMAKE_BUILD_TYPE})
    endif()
endmacro()

